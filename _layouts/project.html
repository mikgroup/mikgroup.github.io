---
layout: default
---

{% if page.images %}
<div class="project-header-image mb-4" style="display:flex; flex-wrap:wrap; gap: 0.5rem;">
  {% for img in page.images %}
    <div style="flex: 1 1 calc(50% - 0.5rem); min-width: 280px;">
      <img src="{{ img }}" alt="{{ page.title }} image {{ forloop.index }}" class="img-fluid" style="max-height: 400px; width: 100%; object-fit: contain;">
    </div>
  {% endfor %}
  </div>
{% elsif page.image %}
<div class="project-header-image">
  <img src="{{ page.image }}" alt="{{ page.title }}" class="img-fluid mb-4" style="max-height: 400px; width: 100%; object-fit: cover;">
</div>
{% endif %}

{{ content }}

{% if page.people %}
<h2>People</h2>
<section class="people project-people">
  {% for uname in page.people %}
    {% assign person = site.data.people | where: 'name', uname | first %}
    {% if person %}
      <div class="person-entry">
        <div class="person-image-container">
          {% include person-image.html person=person %}
        </div>
        <div class="person-info">
          <div class="person-header">
            <h5 class="person-name">{{ person.name }}</h5>
            {% if person.rank %}
              {% assign rank_label = person.rank %}
              {% if rank_label == 'alumnidrs' or rank_label == 'alumni' %}
                {% assign rank_label = 'Alumni' %}
              {% else %}
                {% assign rank_label = rank_label | capitalize %}
              {% endif %}
              <span class="badge badge-secondary">{{ rank_label }}</span>
            {% endif %}
          </div>
          {% if person.current_position %}
            <div class="person-current-position"><strong>Current:</strong> {{ person.current_position }}</div>
          {% endif %}
          {% if person.links %}
            <div class="person-links">
              {% for link in person.links %}
                {% if link.type == 'home' and person.home_url %}
                  <a href="{{ person.home_url }}" class="btn btn-sm btn-outline-primary mr-1" target="_blank">
                    <i class="fa fa-home"></i> Website
                  </a>
                {% elsif link.type == 'scholar' %}
                  <a href="{{ link.url }}" class="btn btn-sm btn-outline-primary mr-1" target="_blank">
                    <i class="ai ai-google-scholar"></i> Scholar
                  </a>
                {% elsif link.type == 'github' %}
                  {% assign gh_url = link.url %}
                  {% if gh_url contains 'http' %}
                    {% assign gh_href = gh_url %}
                  {% else %}
                    {% capture gh_href %}https://github.com/{{ gh_url }}{% endcapture %}
                  {% endif %}
                  <a href="{{ gh_href }}" class="btn btn-sm btn-outline-dark mr-1" target="_blank">
                    <i class="fab fa-github"></i> GitHub
                  </a>
                {% elsif link.type == 'twitter' %}
                  <a href="https://twitter.com/{{ link.url | replace: '@', '' }}" class="btn btn-sm btn-outline-info mr-1" target="_blank">
                    <i class="fab fa-twitter"></i> Twitter
                  </a>
                {% endif %}
              {% endfor %}
            </div>
          {% endif %}
        </div>
      </div>
    {% endif %}
  {% endfor %}
  {% if page.people_long %}
    {% for person_obj in page.people_long %}
      <div class="person-entry" style="display:flex; align-items:center; margin-bottom: 1.5rem;">
        <div style="margin-right: 1rem;">
          {% include person-image.html person=person_obj %}
        </div>
        <div style="flex: 1;">
          <div style="display:flex; align-items:center; margin-bottom: 0.25rem;">
            <h5 style="margin: 0; font-weight:600;">{{ person_obj.name }}</h5>
            {% if person_obj.rank %}
              {% assign obj_rank_label = person_obj.rank %}
              {% if obj_rank_label == 'alumnidrs' or obj_rank_label == 'alumni' %}
                {% assign obj_rank_label = 'Alumni' %}
              {% else %}
                {% assign obj_rank_label = obj_rank_label | capitalize %}
              {% endif %}
              <span class="badge badge-secondary ml-2">{{ obj_rank_label }}</span>
            {% endif %}
          </div>
          {% if person_obj.current_position %}
            <div class="text-info"><small><strong>Current:</strong> {{ person_obj.current_position }}</small></div>
          {% endif %}
        </div>
      </div>
    {% endfor %}
  {% endif %}
</section>
{% endif %}

{% assign project_id = page.path | split: '/' | last | split: '.' | first %}
{% assign related_pubs = site.data.publications | where_exp: "pub", "pub.projects contains project_id" %}
{% if related_pubs.size > 0 %}
<h2>Related Publications</h2>
<section class="related-publications">
  <table class="table table-borderless">
    <tbody>
      {% assign prev_year = 1000 %}
      {% for pub in related_pubs %}
        {% include pub_entry.html pub=pub prev_year=prev_year %}
      {% endfor %}
    </tbody>
  </table>
</section>
{% endif %}

{% if page.last-updated %}
<p class="text-muted"><small>Last updated: {{ page.last-updated }}</p>
{% endif %}

<script>
function toggleAbstract(abstractId) {
  const abstractContent = document.getElementById('abstract-' + abstractId);
  if (abstractContent.style.display === 'none') {
    abstractContent.style.display = 'block';
  } else {
    abstractContent.style.display = 'none';
  }
}
</script>

